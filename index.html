<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="theme-color" content="#4f5f31" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" href="/favicon.png" type="image/png" />
    <title>Rif Raw Straw - Artisanat Berbère Authentique</title>
    <meta name="description" content="Découvrez notre collection unique d'accessoires berbères, confectionnés à la main par des artisans passionnés." />
    <meta name="author" content="Optimum Solutions Groupe by M. BEN-YAKOUB" />
    <meta name="generator" content="Optimum Solutions Groupe by M. BEN-YAKOUB" />

    <meta property="og:title" content="Rif Raw Straw - Artisanat Berbère Authentique" />
    <meta property="og:description" content="Découvrez notre collection unique d'accessoires berbères, confectionnés à la main par des artisans passionnés." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/assets/images/home_page_image.webp" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@rifrawstraw" />
    <meta name="twitter:image" content="/assets/images/home_page_image.webp" />
  </head>

  <body>
    <div id="root"></div>
    
    <!-- Service Worker DISABLED - Cache clearing -->
    <script>
      // Force clear all caches and service workers
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.getRegistrations().then(function(registrations) {
          for(let registration of registrations) {
            registration.unregister();
          }
        });
      }
      
      // Clear all caches
      if ('caches' in window) {
        caches.keys().then(function(names) {
          for (let name of names) {
            caches.delete(name);
          }
        });
      }
      
      // Force reload without cache complete
    </script>
    
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <!-- Google Analytics Configuration Override -->
    <script>
      // Override Google Analytics configuration to prevent Attribution Reporting API errors
      window.gtag = function() {
        // Override gtag to prevent attribution reporting API calls
        if (arguments[0] === 'config' && arguments[1]) {
          // Call original gtag but without attribution reporting
          const originalArgs = Array.from(arguments);
          if (originalArgs[2]) {
            // Remove attribution reporting related configs
            delete originalArgs[2]['attribution_reporting'];
            delete originalArgs[2]['enhanced_conversions'];
            delete originalArgs[2]['os_attribution'];
          }
        }
        // Call the original gtag function if it exists
        if (window.gtag_original) {
          return window.gtag_original.apply(this, arguments);
        }
      };
      
      // Backup original gtag if it gets loaded later
      Object.defineProperty(window, 'gtag_original', {
        configurable: true,
        writable: true,
        value: null
      });
      
      // Intercept Attribution Reporting API to prevent errors
      if ('fetch' in window) {
        const originalFetch = window.fetch;
        window.fetch = function(...args) {
          const url = args[0];
          if (typeof url === 'string' && 
              (url.includes('privacy-sandbox/register') || 
               url.includes('register-os-conversion') ||
               url.includes('register-conversion'))) {
            // Prevent problematic analytics calls
            return Promise.resolve(new Response('{}', { status: 204 }));
          }
          return originalFetch.apply(this, args);
        };
      }
    </script>
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
